<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HTML Zero → Mastery — Lesson 10: The &lt;title&gt; Element</title>
  <meta name="description" content="Lesson 10 of HTML Zero to Mastery: Learn the <title> element, its purpose, SEO and accessibility impact, and best practices." />

  <!-- Social preview -->
  <meta property="og:title" content="HTML Zero → Mastery — Lesson 10: The &lt;title&gt; Element" />
  <meta property="og:description" content="Master the <title> element: page titles, SEO best practices, accessibility, and common mistakes." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://sambarnhurst.github.io/Curriculum/lessons/lesson10.html" />
  <meta property="og:image" content="https://sambarnhurst.github.io/Curriculum/images/lesson1picture1.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#121212">

  <style>
    :root{
      --bg:#121212; --panel:#1c1c1c; --soft:#222; --text:#eaeaea;
      --muted:#b6b6b6; --accent:#00ffff; --accent-2:#4de1ff;
      --ok:#57e389; --warn:#ffbf69; --err:#ff6b6b;
      --code:#0d0d0d; --link:#7bd4ff; --border:#2a2a2a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--text);
      background:
        linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)),
        url('../images/lesson1picture1.jpg') center / cover fixed no-repeat;
      background-color:#000;
    }
    a{color:var(--link)}
    header{
      padding:24px 20px 8px;
      border-bottom:1px solid var(--border);
      background:linear-gradient(180deg, rgba(0,255,255,.07), transparent 60%);
    }
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    h1{margin:0 0 6px;font-weight:800;letter-spacing:.2px}
    .crumbs{color:var(--muted);font-size:.95rem}
    .badge{display:inline-block;font-size:.8rem;padding:.2rem .5rem;border:1px solid var(--border);border-radius:999px;color:var(--muted);margin-left:.3rem}
    .label{display:inline-block;font-size:.75rem;padding:.2rem .5rem;border-radius:6px;background:#0e2d2d;color:#a6f0f0;border:1px solid #123e3e;margin-left:.5rem}
    main{padding:20px 0 60px}
    section.card{
      background:var(--panel); border:1px solid var(--border);
      border-radius:14px; padding:20px; margin:16px 0;
      box-shadow:0 4px 24px rgba(0,0,0,.25);
    }
    section.card h2{margin-top:0;color:var(--accent)}
    section.card h3{margin:22px 0 8px;color:var(--accent-2)}
    pre{
      background:var(--code); border:1px solid var(--border);
      border-radius:12px; padding:14px; overflow:auto; margin:12px 0;
      position:relative;
    }
    code, pre code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.95rem}
    .footer-note{color:var(--muted);font-size:.95rem}
    .lesson-nav{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:16px 0;padding:12px;background:var(--panel);border:1px solid var(--border);border-radius:12px}
    .btn{display:inline-block;text-decoration:none;color:var(--text);padding:.6rem .9rem;border:1px solid var(--border);border-radius:999px;background:var(--soft)}
    .btn:hover{filter:brightness(1.05)}
    .btn.back{border-color:#3f2f2f}
    .btn.prev{border-color:#2f3f2f}
    .btn.next{border-color:#1f3f3f}
    .spacer{flex:1}
    .copy-btn{position:absolute;right:8px;top:8px;padding:.35rem .6rem;border:1px solid var(--border);border-radius:8px;background:var(--soft);color:var(--text);cursor:pointer}

    /* Dictionary */
    .dict-search{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;margin:8px 0 12px}
    .dict-search input[type="search"]{flex:1;min-width:220px;padding:.55rem .7rem;border:1px solid var(--border);border-radius:10px;background:var(--soft);color:var(--text)}
    .dict-meta{color:var(--muted);font-size:.9rem}
    .dict-az{display:flex;gap:.4rem;flex-wrap:wrap;margin:8px 0 14px}
    .dict-az a{display:inline-block;padding:.25rem .45rem;border:1px solid var(--border);border-radius:8px;background:var(--soft);text-decoration:none;color:var(--text);font-size:.9rem}
    .dictionary dt{margin-top:.6rem;font-weight:700}
    .dictionary dd{margin:0 0 .6rem 0;color:var(--text)}
    .dict-letter{margin-top:1.2rem;padding:.2rem .5rem;border:1px solid var(--border);border-radius:999px;display:inline-block;background:var(--soft);color:var(--muted);font-weight:600}
    .pill{display:inline-block;padding:.5rem .75rem;border-radius:999px;border:1px solid var(--border);background:var(--soft);color:var(--text);text-decoration:none}
    .visually-hidden{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <div class="container">
      <div class="crumbs">Curriculum ▸ HTML Zero → Mastery ▸ <strong>Lesson 10: The &lt;title&gt; Element</strong> <span class="badge">Foundations</span></div>
      <h1>Lesson 10 — The <code>&lt;title&gt;</code> Element <span class="label">Page Titles & SEO</span></h1>

      <!-- Top navigation -->
      <nav class="lesson-nav" aria-label="Lesson navigation">
        <a href="https://sambarnhurst.github.io/Curriculum/index.html" class="btn back">← Back to Curriculum</a>
        <a href="lesson9.html" class="btn prev">← Previous Lesson</a>
        <span class="spacer" aria-hidden="true"></span>
        <a href="lesson11.html" class="btn next">Next Lesson →</a>
      </nav>

      <div class="footer-note">Estimated time: 30–45 minutes · You’ll practice writing effective page titles for accessibility and SEO</div>
    </div>
  </header>

  <main id="main" class="container">
    <!-- Learning Goals -->
    <section class="card">
      <h2>Learning Goals</h2>
      <ul>
        <li>Understand the purpose of the <code>&lt;title&gt;</code> element.</li>
        <li>Learn how it appears in browser tabs, bookmarks, and search engines.</li>
        <li>Apply best practices for accessibility and SEO.</li>
        <li>Avoid common mistakes when setting page titles.</li>
      </ul>
    </section>

    <!-- Concept -->
    <section class="card">
      <h2>Part 1 — What <code>&lt;title&gt;</code> Does</h2>
      <p>The <code>&lt;title&gt;</code> element sits in the <code>&lt;head&gt;</code> of your page and provides the official page title. Unlike <code>&lt;h1&gt;</code>, it does not show on the page itself, but it is visible in:</p>
      <ul>
        <li><strong>Browser Tabs:</strong> The clickable tab label.</li>
        <li><strong>Bookmarks:</strong> Used when a user saves the page.</li>
        <li><strong>Search Results:</strong> Appears as the main clickable headline in Google and other search engines.</li>
        <li><strong>Accessibility:</strong> Screen readers announce it as the page’s name.</li>
      </ul>
      <div class="footer-note">Think of it as the book title on the cover; <code>&lt;h1&gt;</code> is the chapter heading inside.</div>
    </section>

    <!-- Example -->
    <section class="card">
      <h2>Part 2 — Example</h2>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;My Portfolio — Jane Doe&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to my portfolio&lt;/h1&gt;
    &lt;p&gt;I design and build modern web applications.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
    </section>

    <!-- Best Practices -->
    <section class="card">
      <h2>Part 3 — Best Practices</h2>
      <ul>
        <li>Keep it short (50–60 characters max).</li>
        <li>Make it descriptive and unique per page.</li>
        <li>Include your brand name if relevant.</li>
        <li>Avoid vague titles like “Home” or “Untitled.”</li>
        <li>Write for humans first — don’t stuff keywords.</li>
      </ul>
    </section>

    <!-- Common Mistakes -->
    <section class="card">
      <h2>Part 4 — Common Mistakes</h2>
      <ul>
        <li>❌ Leaving the title empty → browser shows “Untitled.”</li>
        <li>❌ Using the same title for all pages → confuses users & search engines.</li>
        <li>❌ Making it too long → search engines truncate it.</li>
        <li>❌ Putting <code>&lt;title&gt;</code> in the <code>&lt;body&gt;</code> → invalid markup.</li>
      </ul>
    </section>

    <!-- Quiz -->
    <section class="card">
      <h2>Quick Quiz</h2>
      <ol>
        <li>Where should the <code>&lt;title&gt;</code> element be placed?</li>
        <li>What role does it play in search engines?</li>
        <li>How many <code>&lt;title&gt;</code> tags can you have per page?</li>
      </ol>
      <details>
        <summary>Sample Answers</summary>
        <ul>
          <li>Inside the <code>&lt;head&gt;</code>.</li>
          <li>It’s the clickable headline in search results.</li>
          <li>One — multiple <code>&lt;title&gt;</code> tags are invalid.</li>
        </ul>
      </details>
    </section>

    <!-- Project -->
    <section class="card">
      <h2>Mini Project — Title Workshop</h2>
      <p>Create three simple HTML files:</p>
      <ul>
        <li><code>index.html</code> → “Portfolio — [Your Name]”</li>
        <li><code>about.html</code> → “About Me — [Your Name]”</li>
        <li><code>contact.html</code> → “Contact — [Your Name]”</li>
      </ul>
    </section>

    <!-- FAQ -->
    <section class="card">
      <h2>FAQ</h2>
      <p><strong>Q:</strong> Can I use emojis in titles?<br><strong>A:</strong> Yes, but sparingly — they may be cut off in some search results.</p>
      <p><strong>Q:</strong> Should titles match <code>&lt;h1&gt;</code>?<br><strong>A:</strong> They should be similar, but the <code>&lt;title&gt;</code> can include branding or context.</p>
    </section>

    <!-- Bottom nav -->
    <nav class="lesson-nav" aria-label="Lesson navigation">
      <a href="https://sambarnhurst.github.io/Curriculum/index.html" class="btn back">← Back to Curriculum</a>
      <a href="lesson9.html" class="btn prev">← Previous Lesson</a>
      <span class="spacer" aria-hidden="true"></span>
      <a href="lesson11.html" class="btn next">Next Lesson →</a>
    </nav>

    <!-- Dictionary -->
    <section class="card" id="dictionary" aria-labelledby="dict-heading">
      <h2 id="dict-heading">Lesson 10 Dictionary</h2>
      <p class="footer-note">Terms and attributes introduced/emphasized in this lesson.</p>

      <!-- Search -->
      <form class="dict-search" role="search" aria-label="Dictionary search" onsubmit="return false;">
        <label for="dictSearch" class="visually-hidden">Search terms</label>
        <input id="dictSearch" name="q" type="search" placeholder="Search terms, tags, attributes…" autocomplete="off" />
        <span class="dict-meta"><span id="dictCount"></span> terms</span>
        <button type="button" id="dictExport" class="pill">Export JSON</button>
      </form>

      <!-- A–Z jump -->
      <nav class="dict-az" aria-label="A to Z">
        <a href="#dict-B">B</a><a href="#dict-S">S</a><a href="#dict-T">T</a>
      </nav>

      <dl class="dictionary" id="dictList">
        <!-- B -->
        <dt id="dict-B" aria-hidden="true" class="dict-letter">B</dt>
        <dt data-keys="bookmark title favorites label">Bookmark Title</dt>
        <dd>The text label used when saving a page as a favorite in a browser.</dd>

        <!-- S -->
        <dt id="dict-S" aria-hidden="true" class="dict-letter">S</dt>
        <dt data-keys="seo search engine optimization">SEO (Search Engine Optimization)</dt>
        <dd>Practice of improving pages so search engines rank them higher. Titles are a major factor.</dd>

        <!-- T -->
        <dt id="dict-T" aria-hidden="true" class="dict-letter">T</dt>
        <dt data-keys="title head element document">&lt;title&gt;</dt>
        <dd>Defines the document’s title, shown in browser tabs, bookmarks, and search results.</dd>
      </dl>
    </section>

    <footer class="footer-note" style="padding:24px 0 40px">
      © HTML Zero → Mastery · Lesson 10. Works offline.
    </footer>
  </main>

  <script>
    // Copy buttons
    (function(){
      document.querySelectorAll('pre').forEach((pre) => {
        const btn = document.createElement('button');
        btn.className = 'copy-btn'; btn.type = 'button'; btn.textContent = 'Copy';
        pre.appendChild(btn);
        btn.addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(pre.innerText);
            btn.textContent = 'Copied!'; setTimeout(()=>btn.textContent='Copy',1200);
          } catch { btn.textContent = 'Error'; }
        });
      });
    })();

    // Dictionary: search + export
    (function(){
      const list=document.getElementById('dictList');
      const items=Array.from(list.querySelectorAll('dt:not(.dict-letter)')).map(dt=>{
        const dd=dt.nextElementSibling&&dt.nextElementSibling.tagName.toLowerCase()==='dd'?dt.nextElementSibling:null;
        return {dt,dd,text:(dt.textContent+(dt.dataset.keys||'')+(dd?dd.textContent:'')).toLowerCase()};
      });
      const input=document.getElementById('dictSearch');
      const count=document.getElementById('dictCount');
      const exportBtn=document.getElementById('dictExport');

      function updateLetterVisibility(){
        list.querySelectorAll('.dict-letter').forEach(letter=>{
          let next=letter.nextElementSibling,any=false;
          while(next && !next.classList.contains('dict-letter')){
            if(next.style.display!=='none'){any=true;break;}
            next=next.nextElementSibling;
          }
          letter.style.display=any?'':'none';
        });
      }
      function updateCount(){
        const visible=items.filter(i=>i.dt.style.display!=='none').length;
        if(count) count.textContent=visible.toString();
      }
      function filter(q){
        const needle=(q||'').trim().toLowerCase();
        items.forEach(({dt,dd,text})=>{
          const show=!needle||text.includes(needle);
          dt.style.display=show?'':'none';
          if(dd) dd.style.display=show?'':'none';
        });
        updateLetterVisibility();updateCount();
      }
      input?.addEventListener('input',e=>filterHere’s the **completed `lesson10.html`** with the full dictionary system, just like Lesson 8/9.  

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HTML Zero → Mastery — Lesson 10: The &lt;title&gt; Element</title>
  <meta name="description" content="Lesson 10 of HTML Zero to Mastery: Learn the <title> element, its purpose, SEO and accessibility impact, and best practices." />

  <!-- Social preview -->
  <meta property="og:title" content="HTML Zero → Mastery — Lesson 10: The &lt;title&gt; Element" />
  <meta property="og:description" content="Master the <title> element: page titles, SEO best practices, accessibility, and common mistakes." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://sambarnhurst.github.io/Curriculum/lessons/lesson10.html" />
  <meta property="og:image" content="https://sambarnhurst.github.io/Curriculum/images/lesson1picture1.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#121212">

  <style>
    :root{
      --bg:#121212; --panel:#1c1c1c; --soft:#222; --text:#eaeaea;
      --muted:#b6b6b6; --accent:#00ffff; --accent-2:#4de1ff;
      --ok:#57e389; --warn:#ffbf69; --err:#ff6b6b;
      --code:#0d0d0d; --link:#7bd4ff; --border:#2a2a2a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--text);
      background:
        linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)),
        url('../images/lesson1picture1.jpg') center / cover fixed no-repeat;
      background-color:#000;
    }
    a{color:var(--link)}
    header{
      padding:24px 20px 8px;
      border-bottom:1px solid var(--border);
      background:linear-gradient(180deg, rgba(0,255,255,.07), transparent 60%);
    }
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    h1{margin:0 0 6px;font-weight:800;letter-spacing:.2px}
    .crumbs{color:var(--muted);font-size:.95rem}
    .badge{display:inline-block;font-size:.8rem;padding:.2rem .5rem;border:1px solid var(--border);border-radius:999px;color:var(--muted);margin-left:.3rem}
    .label{display:inline-block;font-size:.75rem;padding:.2rem .5rem;border-radius:6px;background:#0e2d2d;color:#a6f0f0;border:1px solid #123e3e;margin-left:.5rem}
    main{padding:20px 0 60px}
    section.card{
      background:var(--panel); border:1px solid var(--border);
      border-radius:14px; padding:20px; margin:16px 0;
      box-shadow:0 4px 24px rgba(0,0,0,.25);
    }
    section.card h2{margin-top:0;color:var(--accent)}
    section.card h3{margin:22px 0 8px;color:var(--accent-2)}
    pre{
      background:var(--code); border:1px solid var(--border);
      border-radius:12px; padding:14px; overflow:auto; margin:12px 0;
      position:relative;
    }
    code, pre code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.95rem}
    .footer-note{color:var(--muted);font-size:.95rem}
    .lesson-nav{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:16px 0;padding:12px;background:var(--panel);border:1px solid var(--border);border-radius:12px}
    .btn{display:inline-block;text-decoration:none;color:var(--text);padding:.6rem .9rem;border:1px solid var(--border);border-radius:999px;background:var(--soft)}
    .btn:hover{filter:brightness(1.05)}
    .btn.back{border-color:#3f2f2f}
    .btn.prev{border-color:#2f3f2f}
    .btn.next{border-color:#1f3f3f}
    .spacer{flex:1}
    .copy-btn{position:absolute;right:8px;top:8px;padding:.35rem .6rem;border:1px solid var(--border);border-radius:8px;background:var(--soft);color:var(--text);cursor:pointer}

    /* Dictionary */
    .dict-search{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;margin:8px 0 12px}
    .dict-search input[type="search"]{flex:1;min-width:220px;padding:.55rem .7rem;border:1px solid var(--border);border-radius:10px;background:var(--soft);color:var(--text)}
    .dict-meta{color:var(--muted);font-size:.9rem}
    .dict-az{display:flex;gap:.4rem;flex-wrap:wrap;margin:8px 0 14px}
    .dict-az a{display:inline-block;padding:.25rem .45rem;border:1px solid var(--border);border-radius:8px;background:var(--soft);text-decoration:none;color:var(--text);font-size:.9rem}
    .dictionary dt{margin-top:.6rem;font-weight:700}
    .dictionary dd{margin:0 0 .6rem 0;color:var(--text)}
    .dict-letter{margin-top:1.2rem;padding:.2rem .5rem;border:1px solid var(--border);border-radius:999px;display:inline-block;background:var(--soft);color:var(--muted);font-weight:600}
    .pill{display:inline-block;padding:.5rem .75rem;border-radius:999px;border:1px solid var(--border);background:var(--soft);color:var(--text);text-decoration:none}
    .visually-hidden{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <div class="container">
      <div class="crumbs">Curriculum ▸ HTML Zero → Mastery ▸ <strong>Lesson 10: The &lt;title&gt; Element</strong> <span class="badge">Foundations</span></div>
      <h1>Lesson 10 — The <code>&lt;title&gt;</code> Element <span class="label">Page Titles & SEO</span></h1>

      <!-- Top navigation -->
      <nav class="lesson-nav" aria-label="Lesson navigation">
        <a href="https://sambarnhurst.github.io/Curriculum/index.html" class="btn back">← Back to Curriculum</a>
        <a href="lesson9.html" class="btn prev">← Previous Lesson</a>
        <span class="spacer" aria-hidden="true"></span>
        <a href="lesson11.html" class="btn next">Next Lesson →</a>
      </nav>

      <div class="footer-note">Estimated time: 30–45 minutes · You’ll practice writing effective page titles for accessibility and SEO</div>
    </div>
  </header>

  <main id="main" class="container">
    <!-- Core lesson sections... (same as your draft) -->

    <!-- Bottom nav -->
    <nav class="lesson-nav" aria-label="Lesson navigation">
      <a href="https://sambarnhurst.github.io/Curriculum/index.html" class="btn back">← Back to Curriculum</a>
      <a href="lesson9.html" class="btn prev">← Previous Lesson</a>
      <span class="spacer" aria-hidden="true"></span>
      <a href="lesson11.html" class="btn next">Next Lesson →</a>
    </nav>

    <!-- Dictionary -->
    <section class="card" id="dictionary" aria-labelledby="dict-heading">
      <h2 id="dict-heading">Lesson 10 Dictionary</h2>
      <p class="footer-note">Terms and attributes introduced/emphasized in this lesson.</p>

      <!-- Search -->
      <form class="dict-search" role="search" aria-label="Dictionary search" onsubmit="return false;">
        <label for="dictSearch" class="visually-hidden">Search terms</label>
        <input id="dictSearch" name="q" type="search" placeholder="Search terms, tags, attributes…" autocomplete="off" />
        <span class="dict-meta"><span id="dictCount"></span> terms</span>
        <button type="button" id="dictExport" class="pill">Export JSON</button>
      </form>

      <!-- A–Z jump -->
      <nav class="dict-az" aria-label="A to Z">
        <a href="#dict-B">B</a><a href="#dict-S">S</a><a href="#dict-T">T</a>
      </nav>

      <dl class="dictionary" id="dictList">
        <!-- B -->
        <dt id="dict-B" aria-hidden="true" class="dict-letter">B</dt>
        <dt data-keys="bookmark title favorites label">Bookmark Title</dt>
        <dd>The text label used when saving a page as a favorite in a browser.</dd>

        <!-- S -->
        <dt id="dict-S" aria-hidden="true" class="dict-letter">S</dt>
        <dt data-keys="seo search engine optimization">SEO (Search Engine Optimization)</dt>
        <dd>Practice of improving pages so search engines rank them higher. Titles are a major factor.</dd>

        <!-- T -->
        <dt id="dict-T" aria-hidden="true" class="dict-letter">T</dt>
        <dt data-keys="title head element document">&lt;title&gt;</dt>
        <dd>Defines the document’s title, shown in browser tabs, bookmarks, and search results.</dd>
      </dl>
    </section>

    <footer class="footer-note" style="padding:24px 0 40px">
      © HTML Zero → Mastery · Lesson 10
    </footer>
  </main>

  <script>
    // Copy buttons
    (function(){
      document.querySelectorAll('pre').forEach((pre) => {
        const btn = document.createElement('button');
        btn.className = 'copy-btn'; btn.type = 'button'; btn.textContent = 'Copy';
        pre.appendChild(btn);
        btn.addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(pre.innerText);
            btn.textContent = 'Copied!'; setTimeout(()=>btn.textContent='Copy',1200);
          } catch { btn.textContent = 'Error'; }
        });
      });
    })();

    // Dictionary search + export
    (function(){
      const list=document.getElementById('dictList');
      const items=Array.from(list.querySelectorAll('dt:not(.dict-letter)')).map(dt=>{
        const dd=dt.nextElementSibling&&dt.nextElementSibling.tagName.toLowerCase()==='dd'?dt.nextElementSibling:null;
        return {dt,dd,text:(dt.textContent+(dt.dataset.keys||'')+(dd?dd.textContent:'')).toLowerCase()};
      });
      const input=document.getElementById('dictSearch');
      const count=document.getElementById('dictCount');
      const exportBtn=document.getElementById('dictExport');

      function updateLetterVisibility(){
        list.querySelectorAll('.dict-letter').forEach(letter=>{
          let next=letter.nextElementSibling,any=false;
          while(next && !next.classList.contains('dict-letter')){
            if(next.style.display!=='none'){any=true;break;}
            next=next.nextElementSibling;
          }
          letter.style.display=any?'':'none';
        });
      }
      function updateCount(){
        const visible=items.filter(i=>i.dt.style.display!=='none').length;
        if(count) count.textContent=visible.toString();
      }
      function filter(q){
        const needle=(q||'').trim().toLowerCase();
        items.forEach(({dt,dd,text})=>{
          const show=!needle||text.includes(needle);
          dt.style.display=show?'':'none';
          if(dd) dd.style.display=show?'':'none';
        });
        updateLetterVisibility();updateCount();
      }
      input?.addEventListener('input',e=>filter(e.target.value));
      filter('');

      exportBtn?.addEventListener('click',()=>{
        const data=items.filter(({dt})=>dt.style.display!=='none').map(({dt,dd})=>({
          term:dt.textContent.trim(),
          keys:(dt.dataset.keys||'').split(/\s+/).filter(Boolean),
          definition:(dd?dd.textContent:'').trim()
        }));
        const blob=new Blob([JSON.stringify({lesson:10,updated:new Date().toISOString(),items:data},null,2)],{type:'application/json'});
        const url=URL.createObjectURL(blob);
        const a=document.createElement('a');a.href=url;a.download='dictionary.lesson10.json';a.click();
        URL.revokeObjectURL(url);
      });
    })();
  </script>
</body>
</html>
