<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Lesson 1 ‚Äî What is HTML?</title>
  <meta name="description" content="Learn what HTML is, how it relates to CSS and JavaScript, and build your first page."/>
  <style>
    :root{
      --ink:#e6edf3;
      --card:#161b22;      /* base card color */
      --muted:#30363d;
      --accent:#00ffff;
      --accent-2:#00b3b3;
      --good:#42d392;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; color:var(--ink);
      font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; line-height:1.6;
      /* Full-page background: gradient overlay + image, scaled to cover */
      background:
        linear-gradient( to bottom, rgba(13,17,23,.68), rgba(13,17,23,.68) ),
        url('../images/lesson-hero-abstract.jpg') center / cover no-repeat fixed;
    }
    a{color:var(--accent)}
    header,main,footer{max-width:960px; margin-inline:auto; padding:1rem}
    header{display:flex; flex-direction:column; gap:.5rem}
    .crumbs{display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; font-size:.95rem; opacity:.9}
    .crumbs a{color:var(--ink)}
    .pill{background:rgba(22,27,34,.9); border:1px solid var(--muted); border-radius:999px; padding:.2rem .6rem; font-weight:700; backdrop-filter:saturate(110%) blur(2px)}
    h1{color:var(--accent); margin:.25rem 0}
    .muted{opacity:.85}

    /* Cards remain readable atop the image */
    .card{
      background:rgba(22,27,34,.88);
      border:1px solid var(--muted);
      border-radius:12px;
      padding:1rem;
      backdrop-filter: blur(2px);
    }
    .section{margin:1rem 0}
    .grid{display:grid; gap:.8rem}
    .cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:800px){ .cols-2{grid-template-columns:1fr} }

    /* Code block */
    pre{background:#0f1420; color:#e6edf3; border:1px solid var(--muted); border-radius:10px; padding:1rem; overflow:auto}
    code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:.95rem}
    .codebar{display:flex; gap:.5rem; justify-content:flex-end; margin-bottom:.5rem}
    .btn{
      appearance:none; background:rgba(22,27,34,.9); color:var(--ink);
      border:1px solid var(--muted); border-radius:10px; padding:.45rem .75rem;
      font-weight:600; cursor:pointer; transition:background .2s,color .2s,transform .04s;
      backdrop-filter: blur(2px);
    }
    .btn:hover{background:#17202a}
    .btn:active{transform:translateY(1px)}
    .btn.primary{border-color:var(--accent-2)}
    .btn.primary:hover{background:var(--accent-2); color:#001013}
    .btn.good{border-color:var(--good)}
    .btn.good:hover{background:var(--good); color:#001013}

    .list-tight li{margin:.25rem 0}
    .task{display:flex; gap:.6rem; align-items:flex-start}
    input[type="checkbox"]{transform:translateY(3px)}

    .lesson-nav{display:flex; justify-content:space-between; gap:.5rem; margin:1rem 0 2rem}

    /* Sticky Back */
    .sticky-back{
      position:fixed; bottom:16px; left:16px; z-index:10;
      padding:.6rem .9rem; border-radius:999px; border:1px solid var(--muted);
      background:rgba(22,27,34,.9); backdrop-filter: blur(2px);
    }

    img{max-width:100%; height:auto; display:block}

    @media print{
      .sticky-back,.lesson-nav,.codebar{display:none}
      body{background:#fff; color:#000}
      .card{background:#fff; border-color:#ccc; backdrop-filter:none}
      a{color:#000}
    }
  </style>
</head>
<body>
  <!-- Sticky Back (History API + fallback) -->
  <a class="sticky-back btn" id="backBtn" href="#">‚¨Ö Back</a>

  <header>
    <nav class="crumbs">
      <a href="../index.html">Lessons</a> ‚Ä∫ <span class="muted">Lesson 1</span>
      <span class="pill">1 / 600</span>
    </nav>

    <h1>Lesson 1 ‚Äî What is HTML?</h1>
    <p class="muted">HTML defines the <em>structure &amp; semantics</em> of web documents. CSS handles visual design; JavaScript handles interactivity.</p>
  </header>

  <main>
    <section class="section card">
      <h2>Learning Goals</h2>
      <ul class="list-tight">
        <li>Explain what HTML is and what problems it solves.</li>
        <li>Describe how HTML relates to CSS and JavaScript.</li>
        <li>Recognize tags, elements, and attributes.</li>
        <li>Build and open a first HTML page.</li>
      </ul>
    </section>

    <section class="section card">
      <h2>HTML‚Äôs Job vs Other Layers</h2>
      <div class="grid cols-2">
        <div><strong>HTML ‚Äî Structure &amp; semantics</strong><br/>headings, paragraphs, lists, links, images, forms.</div>
        <div><strong>CSS ‚Äî Styling</strong><br/>colors, spacing, typography, layout.</div>
        <div><strong>JavaScript ‚Äî Interactivity</strong><br/>dynamic updates, events, fetching data.</div>
      </div>
    </section>

    <section class="section card">
      <div class="codebar">
        <button class="btn" id="copyBtn">üìã Copy</button>
        <button class="btn primary" id="openBtn">‚ñ∂Ô∏è Open</button>
        <button class="btn" id="dlBtn">‚¨á Download</button>
      </div>
      <h2>Minimal Page Structure</h2>
      <pre><code id="snippet">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;My First Page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;p&gt;This is my first webpage.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <p class="muted">Tip: Save as <code>index.html</code>, then double-click to open in your browser.</p>
    </section>

    <section class="section card">
      <h2>Practice Task</h2>
      <ul class="list-tight">
        <li class="task"><input type="checkbox" data-k="t1"/> Create a file <code>index.html</code>.</li>
        <li class="task"><input type="checkbox" data-k="t2"/> Add a heading with your name.</li>
        <li class="task"><input type="checkbox" data-k="t3"/> Add a short paragraph about yourself.</li>
        <li class="task"><input type="checkbox" data-k="t4"/> Add a link to your favorite website.</li>
        <li class="task"><input type="checkbox" data-k="t5"/> Add an image with meaningful <code>alt</code>.</li>
      </ul>
    </section>

    <section class="section card">
      <h2>Quick Quiz</h2>
      <ol class="list-tight">
        <li>What is HTML‚Äôs main role?</li>
        <li>Which layer handles visual design?</li>
        <li>What‚Äôs the difference between a tag and an element?</li>
      </ol>
      <details>
        <summary>Show sample answers</summary>
        <ul>
          <li><strong>HTML‚Äôs role:</strong> structure &amp; meaning of content (not visual design or behavior).</li>
          <li><strong>Design:</strong> CSS.</li>
          <li><strong>Tag vs element:</strong> a tag is the markup keyword in angle brackets; an element is the tag plus its content (and attributes).</li>
        </ul>
      </details>
    </section>

    <nav class="lesson-nav">
      <a class="btn" href="../index.html">‚¨Ö Back to Lessons</a>
      <div class="row">
        <span class="btn muted" aria-disabled="true">Prev</span>
        <a class="btn good" href="./lesson2.html">Next ‚û°</a>
      </div>
    </nav>
  </main>

  <footer class="card" style="margin-bottom:3rem">
    <small>¬© Samuel Barnhurst ‚Äî Built with curiosity.</small>
  </footer>

  <script>
    // Back button with History API + fallback
    document.getElementById('backBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      if (history.length > 1) history.back();
      else location.href = '../index.html';
    });

    // Copy / Open (Blob) / Download
    const codeEl = document.getElementById('snippet');
    const copyBtn = document.getElementById('copyBtn');
    const openBtn = document.getElementById('openBtn');
    const dlBtn = document.getElementById('dlBtn');

    copyBtn.addEventListener('click', async ()=>{
      try { await navigator.clipboard.writeText(codeEl.textContent); flash(copyBtn, '‚úì Copied'); }
      catch { flash(copyBtn, 'Copy failed'); }
    });

    openBtn.addEventListener('click', ()=>{
      const url = URL.createObjectURL(new Blob([codeEl.textContent], {type:'text/html'}));
      window.open(url, '_blank', 'noopener,noreferrer');
      setTimeout(()=>URL.revokeObjectURL(url), 60000);
    });

    dlBtn.addEventListener('click', ()=>{
      const url = URL.createObjectURL(new Blob([codeEl.textContent], {type:'text/html'}));
      const a = document.createElement('a'); a.href = url; a.download = 'lesson1-minimal.html';
      document.body.appendChild(a); a.click(); a.remove();
      setTimeout(()=>URL.revokeObjectURL(url), 1000);
    });

    function flash(btn, msg){
      const prev = btn.textContent; btn.textContent = msg;
      setTimeout(()=> btn.textContent = prev, 900);
    }

    // Persist task checkboxes
    const KEY = 'lesson1_tasks';
    const boxes = [...document.querySelectorAll('input[type="checkbox"][data-k]')];
    const saved = JSON.parse(localStorage.getItem(KEY) || '{}');
    boxes.forEach(box=>{
      if (saved[box.dataset.k]) box.checked = true;
      box.addEventListener('change', ()=>{
        saved[box.dataset.k] = box.checked;
        localStorage.setItem(KEY, JSON.stringify(saved));
      });
    });
  </script>
</body>
</html>
